(this["webpackJsonpreact_add-todo-form"]=this["webpackJsonpreact_add-todo-form"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),i=n(3),o=n(1),s=n(4),c=n(7),u=n(8),d=n(11),l=n(10),m=n(2),h=n.n(m),j=(n(16),[{id:1,name:"Leanne Graham",username:"Bret",email:"Sincere@april.biz"},{id:2,name:"Ervin Howell",username:"Antonette",email:"Shanna@melissa.tv"},{id:3,name:"Clementine Bauch",username:"Samantha",email:"Nathan@yesenia.net"},{id:4,name:"Patricia Lebsack",username:"Karianne",email:"Julianne.OConner@kory.org"},{id:5,name:"Chelsey Dietrich",username:"Kamren",email:"Lucio_Hettinger@annie.ca"},{id:6,name:"Mrs. Dennis Schulist",username:"Leopoldo_Corkery",email:"Karley_Dach@jasper.info"},{id:7,name:"Kurtis Weissnat",username:"Elwyn.Skiles",email:"Telly.Hoeger@billy.biz"},{id:8,name:"Nicholas Runolfsdottir V",username:"Maxime_Nienow",email:"Sherwood@rosamond.me"},{id:9,name:"Glenna Reichert",username:"Delphine",email:"Chaim_McDermott@dana.io"},{id:10,name:"Clementina DuBuque",username:"Moriah.Stanton",email:"Rey.Padberg@karina.biz"}]);function b(e){return j.find((function(t){return t.id===+e}))||null}var O=[{id:1,title:"delectus aut autem",completed:!0,userId:1},{id:15,title:"some other todo",completed:!1,userId:1},{id:2,title:"quis ut nam facilis et officia qui",completed:!1,userId:4}].map((function(e){return Object(o.a)(Object(o.a)({},e),{},{user:b(e.userId)})})),p=n(9),f=n.n(p),x=n(0),v=function(e){var t=e.user,n=t.name,a=t.email,r=t.id,i="mailto:".concat(a);return Object(x.jsx)("a",{className:"UserInfo","data-id":r,href:i,children:n})},T=function(e){var t=e.todo,n=t.id,a=t.title,r=t.user,i=t.completed;return Object(x.jsxs)("article",{className:f()("TodoInfo",{"TodoInfo--completed":i}),"data-id":n,children:[Object(x.jsx)("h2",{className:"TodoInfo__title",children:a}),r&&Object(x.jsx)(v,{user:r})]})},S=function(e){var t=e.todos,n=void 0===t?[]:t;return Object(x.jsx)("section",{className:"TodoList",children:n.map((function(e){return Object(x.jsx)(T,{todo:e},e.id)}))})},g=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))).state={currentTodo:{id:Math.max.apply(Math,Object(s.a)(O.map((function(e){return e.id}))))+1,title:"",userId:0,completed:!1},todos:Object(s.a)(O),inputStatusMonitoring:!1},e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;r.match(/^[A-Za-z\u0410-\u042f\u0430-\u044f0-9 ]*$/i)&&e.setState((function(e){return{currentTodo:Object(o.a)(Object(o.a)({},e.currentTodo),{},Object(i.a)({},a,r))}}))},e.handleSubmit=function(t){t.preventDefault(),e.state.currentTodo.userId&&e.state.currentTodo.title.trim()?(e.setState((function(t){var n=Object(o.a)(Object(o.a)({},e.state.currentTodo),{},{user:b(e.state.currentTodo.userId)});return Object(o.a)(Object(o.a)({},t),{},{currentTodo:Object(o.a)(Object(o.a)({},t.currentTodo),{},{id:t.currentTodo.id+1}),todos:[].concat(Object(s.a)(t.todos),[n])})})),e.handleResetForm()):e.switchInputMonitoring()},e.handleResetForm=function(){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{currentTodo:Object(o.a)(Object(o.a)({},e.currentTodo),{},{title:"",userId:0})})})),e.switchInputMonitoring()},e.switchInputMonitoring=function(){return e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{inputStatusMonitoring:!e.inputStatusMonitoring})}))},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("h1",{children:"Add todo form"}),Object(x.jsxs)("form",{action:"/api/users",method:"POST",onSubmit:this.handleSubmit,children:[Object(x.jsxs)("div",{className:"field",children:[Object(x.jsxs)("label",{children:["Title:\xa0",Object(x.jsx)("input",{name:"title",type:"text","data-cy":"titleInput",placeholder:"Enter a title",value:this.state.currentTodo.title,onChange:this.handleChange})]}),!this.state.currentTodo.title.trim()&&this.state.inputStatusMonitoring&&Object(x.jsx)("span",{className:"error",children:"Please enter a title"})]}),Object(x.jsxs)("div",{className:"field",children:[Object(x.jsxs)("label",{children:["User:\xa0",Object(x.jsxs)("select",{"data-cy":"userSelect",name:"userId",value:this.state.currentTodo.userId,onChange:this.handleChange,children:[Object(x.jsx)("option",{value:"0",disabled:!0,children:"Choose a user"}),j.map((function(e){var t=e.id,n=e.name;return Object(x.jsx)("option",{value:t,children:n},t)}))]})]}),!this.state.currentTodo.userId&&this.state.inputStatusMonitoring&&Object(x.jsx)("span",{className:"error",children:"Please choose a user"})]}),Object(x.jsx)("button",{type:"submit","data-cy":"submitButton",children:"Add"})]}),Object(x.jsx)(S,{todos:this.state.todos})]})}}]),n}(h.a.Component);r.a.render(Object(x.jsx)(g,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.79f45d2c.chunk.js.map