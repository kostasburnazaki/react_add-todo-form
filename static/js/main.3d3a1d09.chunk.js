(this["webpackJsonpreact_add-todo-form"]=this["webpackJsonpreact_add-todo-form"]||[]).push([[0],{16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),i=a(3),o=a(1),s=a(9),c=a(6),d=a(7),u=a(11),l=a(10),m=a(2),h=a.n(m),j=(a(16),[{id:1,name:"Leanne Graham",username:"Bret",email:"Sincere@april.biz"},{id:2,name:"Ervin Howell",username:"Antonette",email:"Shanna@melissa.tv"},{id:3,name:"Clementine Bauch",username:"Samantha",email:"Nathan@yesenia.net"},{id:4,name:"Patricia Lebsack",username:"Karianne",email:"Julianne.OConner@kory.org"},{id:5,name:"Chelsey Dietrich",username:"Kamren",email:"Lucio_Hettinger@annie.ca"},{id:6,name:"Mrs. Dennis Schulist",username:"Leopoldo_Corkery",email:"Karley_Dach@jasper.info"},{id:7,name:"Kurtis Weissnat",username:"Elwyn.Skiles",email:"Telly.Hoeger@billy.biz"},{id:8,name:"Nicholas Runolfsdottir V",username:"Maxime_Nienow",email:"Sherwood@rosamond.me"},{id:9,name:"Glenna Reichert",username:"Delphine",email:"Chaim_McDermott@dana.io"},{id:10,name:"Clementina DuBuque",username:"Moriah.Stanton",email:"Rey.Padberg@karina.biz"}]);function b(e){return j.find((function(t){return t.id===+e}))||null}var O=[{id:1,title:"delectus aut autem",completed:!0,userId:1},{id:15,title:"some other todo",completed:!1,userId:1},{id:2,title:"quis ut nam facilis et officia qui",completed:!1,userId:4}].map((function(e){return Object(o.a)(Object(o.a)({},e),{},{user:b(e.userId)})})),p=a(8),f=a.n(p),v=a(0),x=function(e){var t=e.user,a=t.name,n=t.email,r=t.id,i="mailto:".concat(n);return Object(v.jsx)("a",{className:"UserInfo","data-id":r,href:i,children:a})},T=function(e){var t=e.todo,a=t.id,n=t.title,r=t.user,i=t.completed;return Object(v.jsxs)("article",{className:f()("TodoInfo",{"TodoInfo--completed":i}),"data-id":a,children:[Object(v.jsx)("h2",{className:"TodoInfo__title",children:n}),r&&Object(v.jsx)(x,{user:r})]})},S=function(e){var t=e.todos,a=void 0===t?[]:t;return Object(v.jsx)("section",{className:"TodoList",children:a.map((function(e){return Object(v.jsx)(T,{todo:e},e.id)}))})},y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return(e=t.call.apply(t,[this].concat(r))).state={currentTodo:{id:Math.max.apply(Math,Object(s.a)(O.map((function(e){return e.id}))))+1,title:"",userId:0,completed:!1},todos:O,re:/^[A-Za-z\u0410-\u042f\u0430-\u044f0-9 ]*$/i,inputStatusMonitoring:!1},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;r.match(e.state.re)&&e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{currentTodo:Object(o.a)(Object(o.a)({},e.currentTodo),{},Object(i.a)({},n,r))})}))},e.handleSubmit=function(t){t.preventDefault(),e.state.currentTodo.userId&&e.state.currentTodo.title.trim()?(e.state.todos.push(Object(o.a)(Object(o.a)({},e.state.currentTodo),{},{user:b(e.state.currentTodo.userId)})),e.iterateEventId(),e.handleResetForm()):(e.state.inputStatusMonitoring=!0,e.forceUpdate())},e.iterateEventId=function(){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{todo:Object(o.a)(Object(o.a)({},e.currentTodo),{},{id:e.currentTodo.id+1})})}))},e.handleResetForm=function(){e.setState((function(e){return Object(o.a)(Object(o.a)({},e),{},{currentTodo:Object(o.a)(Object(o.a)({},e.currentTodo),{},{title:"",userId:0})})})),e.state.inputStatusMonitoring=!1},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("h1",{children:"Add todo form"}),Object(v.jsxs)("form",{action:"/api/users",method:"POST",onSubmit:this.handleSubmit,children:[Object(v.jsxs)("div",{className:"field",children:[Object(v.jsxs)("label",{children:["Title:\xa0",Object(v.jsx)("input",{name:"title",type:"text","data-cy":"titleInput",placeholder:"Enter a title",value:this.state.currentTodo.title,onChange:this.handleChange})]}),!this.state.currentTodo.title.trim()&&this.state.inputStatusMonitoring&&Object(v.jsx)("span",{className:"error",children:"Please enter a title"})]}),Object(v.jsxs)("div",{className:"field",children:[Object(v.jsxs)("label",{children:["User:\xa0",Object(v.jsxs)("select",{"data-cy":"userSelect",name:"userId",value:this.state.currentTodo.userId,onChange:this.handleChange,children:[Object(v.jsx)("option",{value:"0",disabled:!0,selected:!0,children:"Choose a user"}),j.map((function(e){var t=e.id,a=e.name;return Object(v.jsx)("option",{value:t,children:a},t)}))]})]}),!this.state.currentTodo.userId&&this.state.inputStatusMonitoring&&Object(v.jsx)("span",{className:"error",children:"Please choose a user"})]}),Object(v.jsx)("button",{type:"submit","data-cy":"submitButton",children:"Add"})]}),Object(v.jsx)(S,{todos:O})]})}}]),a}(h.a.Component);r.a.render(Object(v.jsx)(y,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.3d3a1d09.chunk.js.map